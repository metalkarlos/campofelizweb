<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	template="../templates/default_others.xhtml">

	
	<ui:define name="head">
		<title>Campo Feliz - Homenaje a las Mascotas Mantenimiento</title>
		<style type="text/css">
			.ui-widget-content {
				border: 0px;
			}
		</style>
	</ui:define>
	
	<ui:define name="content_page">
	
	<h:form id="form-contentpage" enctype="multipart/form-data">
       <p:growl id="mensajes" autoUpdate="true" showDetail="true"  />
		  <p:panel id="panel-homenajepostumocontent">
		        <h3 class="title">Homenaje Póstumo - Mantenimiento</h3>
				<br/>
		        <div class="box_title">
				   <h4 class="title">Código</h4>
				</div>
				<h:outputText
					value="#{mascotaHomenajeBean.petmascotahomenaje.idmascota}" />
				<br />
				<h5 >Fotos</h5>
					<br />
					<p:galleria id="idgalleria" value="#{mascotaHomenajeBean.listpetfotomascota}" var="item" transitionInterval="0" panelWidth="500" panelHeight="320" styleClass="ui-widget-content ui-corner-all">
				        <p:graphicImage id="idfotos" value="#{item.ruta}" />
				        <p:galleriaContent>  
				            <h:panelGrid columns="1" style="background-color: #eaeaea;height: 100%; width: 100%;" >  
						        <f:facet name="header">
					            	<p:graphicImage id="idfoto" value="#{item.ruta}" style="max-height: 300px" />
						        </f:facet>
						        <p:commandButton id="idbuttonperfil" title="Colocar como foto del Perfil"  action ="#{mascotaHomenajeBean.setearFotoperfil}" icon="ui-icon ui-icon-person"  style="position:absolute;right:0px;top:30px;"   >
						        	<f:setPropertyActionListener value="#{item}"  target="#{mascotaHomenajeBean.petfotomascotaselected}" />
						        </p:commandButton>
						        <p:commandButton id="idbuttondelete"  title="Eliminar foto permanentemente" action="#{mascotaHomenajeBean.eliminarFoto}" icon="ui-icon ui-icon-trash"  style="position:absolute;right:0px;top:55px;" update="idgalleria" >
						        	<f:setPropertyActionListener value="#{item}" target="#{mascotaHomenajeBean.petfotomascotaselected}" />
						        </p:commandButton>
						    </h:panelGrid>
						</p:galleriaContent>
				  </p:galleria>
					
					
				  <p:fileUpload label="Subir"  auto="true"  fileUploadListener="#{mascotaHomenajeBean.subir}"  mode="advanced" update="mensajes,idgalleria"						
						 allowTypes="/(\.|\/)(gif|jpe?g|png)$/" />
						
                   		
				<div class="box_title">
				   <h4 class="title">Nombre Mascota</h4>
				</div>
				<p:inputText id="nombremascota" maxlength="100" style="width: 350px;" value="#{mascotaHomenajeBean.petmascotahomenaje.nombre}" />
				<br />
				<div class="box_title">
				   <h4 class="title">Especie</h4>
				</div>
				<p:selectOneMenu id="idespeciemascota" style="width: 165px; align: center;" value="#{mascotaHomenajeBean.petmascotahomenaje.petespecie.idespecie}" >
					<f:selectItem itemLabel="Seleccione" itemValue="0"/>
					<f:selectItems value="#{petespecieBean.listPetespecie}" var="especie" itemLabel="#{especie.nombre}" itemValue="#{especie.idespecie}"></f:selectItems>
				</p:selectOneMenu>
				<br />
				
				<div class="box_title">
				   <h4 class="title">Fecha Nacimiento</h4>
				</div>
				<p:calendar id="idfechanacimiento" value="#{mascotaHomenajeBean.petmascotahomenaje.fechanacimiento}" yearRange="c-110:c" locale="es" pattern="dd/MM/yyyy" navigator="true" />
				<br/>
				<div class="box_title">
				   <h4 class="title">Fecha Fallecimiento</h4>
				</div>
				<p:calendar id="idfechafallecimiento" value="#{mascotaHomenajeBean.petmascotahomenaje.fechafallecimiento}" yearRange="c-110:c" locale="es" pattern="dd/MM/yyyy" navigator="true" />
				<br/>
				<div class="box_title">
				   <h4 class="title">Fecha Publicación</h4>
				</div>
				<p:calendar id="idfechapublicacion" value="#{mascotaHomenajeBean.petmascotahomenaje.fechapublicacion}" yearRange="c-110:c" locale="es" pattern="dd/MM/yyyy" navigator="true" />
				<br/>
				<div class="box_title">
				   <h4 class="title">Familia</h4>
				</div>
				<p:inputText id="familia" maxlength="100" style="width: 350px;" value="#{mascotaHomenajeBean.petmascotahomenaje.familia}" />
				<br />
				<div class="box_title">
				   <h4 class="title">Dedicatoria</h4>
				</div>
				<p:inputTextarea id="dedicatoria" maxlength="1000" autoResize="true" style="width: 610px; height:85px" value="#{mascotaHomenajeBean.petmascotahomenaje.dedicatoria}"/>
				<br/>
				<br />
				<div class="box_title">
					<h4 class="title">Tags</h4>
				</div>
				<p:inputText id="tag" maxlength="200" style="width: 380px;" value="#{mascotaHomenajeBean.petmascotahomenaje.tag}" />
				<br />
				<br />
	             <p:commandButton value="Guardar" actionListener="#{mascotaHomenajeBean.ingresarHomenajemascota()}" 
	                     update="mensajes,nombremascota,idespeciemascota,idfechanacimiento,idfechafallecimiento,familia,dedicatoria,tag,idgalleria" />  
		         <p:commandButton value="Cancelar"/>
		  </p:panel>
   </h:form>		  
  </ui:define>
  </ui:composition>