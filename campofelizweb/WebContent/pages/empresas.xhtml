<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	template="../templates/default_admin.xhtml">
	
	
		<ui:define name="head">
		<title>Campo Feliz - Empresas</title>
		<style type="text/css">
			.ui-widget-content {
				border: 0px;
			}
			.ui-panelgrid td {
			   border: 0px;
			}
			.ui-datatable-even{
			  border: 0px;
			  }
			.mascotas-content .cuerpo a {
				color: #ec8f23;
				font-weight: bold;
			}
		</style>
	</ui:define>
	

	<ui:define name="content_page">
	<div  class="content-page">
	 <h:form id="form-contentpage" enctype="multipart/form-data">
        <p:growl id="mensajes" showDetail="true" />
        <h1 class="title ui-widget-header">Empresas</h1>
        <span class="clear" />
        <br/>
 		<h:link value="[Nueva Empresa]" style="float: right;margin: 0 20px 20px 0;" styleClass="link2" outcome="empresa-admin.jsf" rendered="#{usuarioBean.autenticado}" />
		<span class="clear" />
		<br/>
		
		<div>
		   <p:dataTable id="idTablaEmpresas" value="#{empresasBean.listpetemepresas}" var="empresa" rowKey="#{empresa.idempresa}" widgetVar="vartablaEmpresas"
				paginator="true" rows="20" paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
				selection="#{empresasBean.petempresaseleccionada}" selectionMode="single"  emptyMessage="No se encontraron registros"  paginatorPosition="bottom">

		   <p:ajax event="rowSelect" listener="#{empresasBean.onRowSelect}"/>
		  	       
	       <p:column >
		       <f:facet name="header">  
	            <h:outputText value="Código" />
	           </f:facet>
	           <h:outputText value="#{empresa.idempresa}" />
	       </p:column>

           <p:column >
		       <f:facet name="header">  
	            <h:outputText value="Nombre" />
	           </f:facet>
	           <h:outputText value="#{empresa.nombre}" />
	       </p:column>				      
				        
		   <p:column >
		       <f:facet name="header">  
	            <h:outputText value="Dirección" />
	           </f:facet>
	           <h:outputText value="#{empresa.direccion}" />
	       </p:column>	
	       
	        <p:column >
		       <f:facet name="header">  
	            <h:outputText value="Teléfono" />
	           </f:facet>
	           <h:outputText value="#{empresa.telefono}" />
	       </p:column>	
	       
		   </p:dataTable>
		</div>
      </h:form>
     </div>
     </ui:define>
</ui:composition>     
        