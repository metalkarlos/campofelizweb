<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	template="../templates/default_admin.xhtml"
	xmlns:my="http://java.sun.com/jsf/composite/components/buttons">
	
	<ui:define name="head">
		<title>Administración - Empresas</title>
		<style type="text/css">
			.inner-content {
				padding: 30px 0;
				/*line-height: 300%;*/
			}
			label {
				font-weight: bold;
				font-size: 15px;
			}
			.ui-panelgrid tr, .ui-panelgrid td {
				border: none;
				padding: 0 10px;
			}
			.ui-panelgrid .alto-columna {
				padding-bottom: 15px;
			}
			.area-botones {
				margin: 0 0 25px 25px;
			}
			.panel-previa .ui-panel-content {
				padding: 0;
			}
		</style>
	</ui:define>
	
	<ui:define name="content_page">
	<div  class="content-page">
	 <h:form id="form-contentpage" enctype="multipart/form-data">
        <p:growl id="mensajes" showDetail="true"  />
        <h1 class="title ui-widget-header">Administración - Empresas</h1>
        <div class="inner-content">
		     <p:panelGrid id="idgridcontenido" >	
		        <p:row>
		          <p:column  styleClass="alto-columna">
		            <h:outputLabel value="Código" for="idempresa" />
		          </p:column>
		        </p:row>   
		        <p:row>
		          <p:column  styleClass="alto-columna">
		             <h:outputText  id="idempresa" value="#{empresaAdminBean.petempresa.idempresa}" style="width: 100px;" />
		          </p:column>
		        </p:row>
		         <p:row>
		          <p:column  styleClass="alto-columna">
		            <h:outputLabel value="Tipo" for="listipo" />
		          </p:column>
		        </p:row>   
		        <p:row>
		          <p:column  styleClass="alto-columna">
		             <p:selectOneMenu id="listipo" style="width: 165px; align: center;" value="#{empresaAdminBean.petempresa.tipoempresa}" >
					 <f:selectItem itemLabel="Seleccione" itemValue="0"/>
					 <f:selectItem itemLabel="Matriz" itemValue="1"/>
					 <f:selectItem itemLabel="Sucursal" itemValue="2"/>
				    </p:selectOneMenu>
		          </p:column>
		        </p:row>
		        <p:row>
		          <p:column  styleClass="alto-columna">
		            <h:outputLabel value="Nombre" for="nombre" />
		          </p:column>
		        </p:row>   
		        <p:row>
		          <p:column  styleClass="alto-columna">
		             <p:inputText id="nombre" maxlength="200" value="#{empresaAdminBean.petempresa.nombre}" style="width: 300px;" />
		          </p:column>
		        </p:row>
		         <p:row>
		          <p:column  styleClass="alto-columna">
		            <h:outputLabel value="Descripción" for="descripcion" />
		          </p:column>
		        </p:row>   
		        <p:row>
		          <p:column  styleClass="alto-columna">
		             <p:inputTextarea id="descripcion" maxlength="500"  autoResize="true" style="width: 610px; height:105px;"  value="#{empresaAdminBean.petempresa.descripcion}"  />
		          </p:column>
		        </p:row>
		        <p:row>
		          <p:column  styleClass="alto-columna">
		            <h:outputLabel value="Dirección" for="direccion" />
		          </p:column>
		        </p:row>   
		        <p:row>
		          <p:column  styleClass="alto-columna">
		             <p:inputTextarea id="direccion" maxlength="500"  required="true" requiredMessage="Ingresar Dirección"  autoResize="true" style="width: 610px; height:85px;" value="#{empresaAdminBean.petempresa.direccion}"  />
		          </p:column>
		        </p:row>
		        <p:row>
		          <p:column  styleClass="alto-columna">
		            <h:outputLabel value="Teléfono" for="telefono" />
		          </p:column>
		        </p:row>   
		        <p:row>
		          <p:column  styleClass="alto-columna">
		             <p:inputText id="telefono" maxlength="40" value="#{empresaAdminBean.petempresa.telefono}" style="width: 300px;" />
		          </p:column>
		        </p:row>
		         <p:row>
		          <p:column  styleClass="alto-columna">
		            <h:outputLabel value="Celular" for="celular" />
		          </p:column>
		        </p:row>   
		        <p:row>
		          <p:column  styleClass="alto-columna">
		             <p:inputText id="celular" maxlength="40" value="#{empresaAdminBean.petempresa.celular}" style="width: 300px;" />
		          </p:column>
		        </p:row>
		        <p:row>
		          <p:column  styleClass="alto-columna">
		              <h:outputLabel value="Página web" for="paginaweb" />
		          </p:column>
		        </p:row>
		         <p:row>
		          <p:column  styleClass="alto-columna">
		             <p:inputText id="paginaweb" maxlength="200" value="#{empresaAdminBean.petempresa.paginaweb}" style="width: 400px;" />
		          </p:column>
		        </p:row>
		        <p:row>
		          <p:column  styleClass="alto-columna">
		              <h:outputLabel value="Correo electrónico" for="email" />
		          </p:column>
		        </p:row>
		         <p:row>
		          <p:column  styleClass="alto-columna">
		             <p:inputText id="email" maxlength="100" value="#{empresaAdminBean.petempresa.email}" style="width: 400px;"  
		                          validatorMessage="Formato de Correo Electrónico incorrecto">
					 <f:validateRegex pattern="[\w\.-]*[a-zA-Z0-9_]@[\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]" />
		             </p:inputText>
		          </p:column>
		        </p:row>
		     </p:panelGrid>
		</div>     
        <div class="area-botones">
			<my:buttons renderedButtonAceptar="true" labelButtonAceptar="Grabar" onclickButtonAceptar="vardialoggrabar.show()" 
			renderedButtonEliminar="#{empresaAdminBean.idempresa > 0}" onclickButtonEliminar="vardialogdeleteempresa.show()" 
			renderedButtonCancelar="true" labelButtonCancelar="Cancelar" onclickButtonCancelar="redirect('empresas.jsf');"
			renderedButtonNewItem="false" />
		</div>
		
		<p:dialog id="iddialoggrabar" header="Grabar" closable="true" widgetVar="vardialoggrabar" modal="true" style="min-height: 80px; width: 450px">
				<h:panelGrid id="idpanelgrabar" columns="2" width="100%">
					<h:outputText id="idlabelgrabar" value="Confirme si desea grabar el registro" />
					<h:outputText value="" />
					<h:outputText value="" />
					<p:panelGrid id="idpanel2grabar" style="width: 100%; text-align: right;">
						<p:row>
						<p:column>
						<p:commandButton id="idconfirmargrabar" value="Confirmar" action="#{empresaAdminBean.grabar()}" oncomplete="vardialoggrabar.hide()" update="mensajes" />
						<p:commandButton id="idcancelargrabar" value="Cancelar" onclick="vardialoggrabar.hide()" />
						</p:column>
						</p:row>
					</p:panelGrid>
				</h:panelGrid>
		</p:dialog>
		<p:dialog id="iddialogdelete"  header="Eliminar Empresa" closable="true" widgetVar="vardialogdeleteempresa" modal="true" style="min-height: 80px; width: 450px">
				<h:panelGrid id="idpaneldeleteempresa" columns="2" width="100%">
					<h:outputText id="idlabeldeleteempresa" value="Confirme si desea eliminar el registro" />
					<h:outputText value="" />
					<h:outputText value="" />
					<p:panelGrid id="idpanel2deleteempresa" style="width: 100%; text-align: right;">
						<p:row>
						<p:column>
						<p:commandButton id="idconfirmardeleteempresa" value="Confirmar" action="#{empresaAdminBean.eliminar()}" oncomplete="vardialogdeleteempresa.hide()" update="mensajes" />
						<p:commandButton id="idcancelardeleteempresa" value="Cancelar" onclick="vardialogdeleteempresa.hide()" />
						</p:column>
						</p:row>
					</p:panelGrid>
				</h:panelGrid>
		</p:dialog>
			
     </h:form>
   </div>
   </ui:define>    
   </ui:composition> 